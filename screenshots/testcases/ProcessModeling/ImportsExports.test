--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _y5zpEF73Eea4DszzhZF9qA
Element-Name: ImportsExports
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _Tiq00F78Eea4DszzhZF9qA
Runtime-Version: 2.5.0.201908212005
Save-Time: 9/10/19, 10:21 AM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

importProject -projectName "documentationExampleProject"

OpenView CMS
get-view CMS | close
with [get-view "Axon.ivy Projects"] {
	get-button "Collapse All Tree Nodes" | click
	get-tree | get-item "documentationExampleProject/Definitions/Deployment" | click
	get-tree | get-item "documentationExampleProject" | click
}

get-eclipse-window | get-object | invoke setSize 1300 800
find-tab-folder "Axon.ivy Projects" | get-object | captureScreenshot "ivy-project/project-tree-full.png"

get-view "Axon.ivy Projects" | get-tree | get-menu "New/Axon.ivy Project" | click
with [get-window "New Axon.ivy Project"] {
	get-editbox -after [get-label "Project Name:"] | set-text InvoiceManager
	get-editbox -after [get-label "Group ID:"] | set-text "com.acme.ivy"
	get-editbox -after [get-label "Project ID:"] | set-text invoice
	get-button "Create default configurations .*" | check
	wait 500
	saveWindowContentScreenshot "ivy-project/new-project-wizard-1.png"
	get-button "Next >" | click
	get-table | get-item "documentationExampleProject .*" | check
	saveWindowContentScreenshot "ivy-project/new-project-wizard-2.png"
	get-button "Next >" | click
	with [get-editbox -after [get-label "Provider:"]] {
		set-text AxonIvy
		key-type TRAVERSE_TAB_NEXT
	}
	get-editbox -after [get-label "Description:"] | set-text "Implements the RIA Invoice Manager for Acme.com."
	saveWindowContentScreenshot "ivy-project/new-project-wizard-3.png"
	get-button Finish | click
}

get-eclipse-window | get-object | invoke setSize 950 650
get-view "Axon.ivy Projects" | get-tree | select "InvoiceManager/Definitions/Deployment" | double-click

find-tab-folder InvoiceManager | get-object | captureScreenshot "ivy-project/deployment-descriptor-editor-deployment.png"

get-eclipse-window | get-object | invoke setSize 1000 700
get-editor InvoiceManager | get-button "Show project graph" | get-object | invoke getParent | invoke getParent | invoke
	"getParent" | captureScreenshot "ivy-project/project-graph-view-open-action.png"

with [get-editor InvoiceManager | get-tab-folder] {
	get-tab-item Deployment | click
	get-tab-item "Required Projects" | click
}
get-editor InvoiceManager | get-tab-folder | get-tab-item "Required Projects" | click
find-tab-folder InvoiceManager | get-object | captureScreenshot "ivy-project/deployment-descriptor-editor-required-projects.png"
get-view "Project Graph" | get-button "Manually refreshes workspace library graph  and re-arranges the layout." | click

get-eclipse-window | resizeWindow 1300 800
find-tab-folder "Project Graph" | get-object | captureScreenshot "ivy-project/project-graph-view.png"


get-view "Axon.ivy Projects" | get-tree | get-menu "Import..." | click
get-window Import | get-tree | select "General/Existing Projects into Workspace" | double-click
set-dialog-result Folder [format "%s/%s" [substitute-variables "${system_property:additionalProjects}"] "QuickStartTutorial" | str]
with [get-window Import] {
	resizeWindow 520 560
	get-button "Browse..." | click
	get-group Options | get-button "Copy projects into workspace" | uncheck
	wait 500
	saveWindowContentScreenshot "ivy-project/project-import.png"
	get-button "Select All" | click
	get-button Cancel | click
}

get-view "Axon.ivy Projects" | get-tree | get-menu "Import..." | click
get-window Import | get-tree | select "Axon.ivy/Ivy Archive \\(\\*.iar\\)" | double-click
set-dialog-result Folder [substitute-variables "${system_property:additionalProjects}"]
with [get-window "Import ivy Archives.*"] {
	get-button "Browse ..." | click
	get-button "Select All" | click
	get-button "Copy projects into workspace" | check
	resizeWindow 500 390
	saveWindowContentScreenshot "ivy-project/project-import-wizard.png"
	get-button Cancel | click
}
------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
