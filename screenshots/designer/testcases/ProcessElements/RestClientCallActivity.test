--- RCPTT testcase ---
Format-Version: 1.0
Contexts: _PRrTwNcsEeaidO8WBzHpig
Element-Name: RestClientCallActivity
Element-Type: testcase
Element-Version: 3.0
External-Reference: 
Id: _odS0sPXvEeeFEMShsGve8A
Runtime-Version: 2.5.0.202001211718
Save-Time: 9/16/20, 10:23 AM
Testcase-Type: ecl

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac
Content-Type: text/ecl
Entry-Name: .content

importProject -projectName "documentationExampleProject"

global [val processName "JaxRsServiceCall"]
global [val type "Rest Service Call Activity"]

proc simpleGET{
	openInscription
		-processName $processName
		-elementName "Call twitter"
		-elementType $type
	captureInscription
		-elementType $type
		-tabName "Request"
		-width 590 -height 550
		-screenshot "rest-client-activity-tab-request-get.png"
}

proc jaxRsRequest{
	openInscription
		-processName $processName
		-elementName "create JAX-RS approval"
		-elementType $type
	captureInscription
		-elementType $type
		-tabName "Request"
		-width 620 -height 670
		-screenshot "rest-client-activity-tab-request-jax-rs.png"
}

proc responseMapping{
	openInscription
		-processName $processName
		-elementName "Update document name"
		-elementType $type
	captureInscription
		-elementType $type
		-tabName "Response"
		-width 580 -height 500
		-screenshot "rest-client-activity-tab-response.png"
}

proc inputMethods{
	openInscription
		-processName $processName
		-elementName "Update document name"
		-elementType $type
	with [get-window "Inscribe Rest Service Call Activity"]{
		resizeWindow -width 553 -height 580

		get-tab-folder | get-tab-item Request | click
		with [get-group Body] {
			get-button "Raw" | click
			captureInscriptionPart -screenshot "rest-client-activity-input-raw-json.png"

			get-button "Form" | click
			captureInscriptionPart -screenshot "rest-client-activity-input-form-string.png"

			get-button "Entity" | click
			captureInscriptionPart -screenshot "rest-client-activity-input-entity-json.png"
			get-button "Raw" | click
		}
		get-button Cancel | click
	}
}

proc targetSettings{
	openInscription
		-processName $processName
		-elementName "Call twitter"
		-elementType $type
	with [get-window "Inscribe Rest Service Call Activity"]{
		resizeWindow -width 580 -height 700

		get-tab-folder | get-tab-item "Request" | click
		with [get-group "Target" ] {
			with [get-section "Parameters"] {
				captureInscriptionPart -screenshot "rest-client-activity-request-parameters.png"
				click // collapse
			}
			resizeWindow -width 590 -height 700
			wait 2000
			with [get-section "Headers"] {
				captureInscriptionPart -screenshot "rest-client-activity-request-headers.png"
				click // collapse
			}
		}
		get-button Cancel | click
	}
	openInscription
		-processName $processName
		-elementName "Check NEW docs"
		-elementType $type
	with [get-window "Inscribe Rest Service Call Activity"]{
		resizeWindow -width 553 -height 600
		get-tab-folder | get-tab-item "Request" | click
		with [get-group Target] {
			with [get-section "Properties"] {
				captureInscriptionPart -screenshot "rest-client-activity-request-properties.png"
			}
		}
		get-button Cancel | click
	}
}

proc oas3_get{
	openInscription
		-processName $processName
		-elementName "RPA: get robots"
		-elementType $type
	with [get-window "Inscribe Rest Service Call Activity"] {
		get-tab-folder | get-tab-item Request | click
		get-group Target | get-button "API Browser" | click -metaKeys ""
	}
	with[get-window "Select service resource"]{
		wait -ms 500 // wait for UI animation (radio switches, button highlight, etc.)
		get-object | captureScreenshot  "process-elements/rest-client-activity-oas3-browser.png"
		get-button Cancel | click -metaKeys ""
	}
	captureInscription
		-elementType $type
		-tabName "Request"
		-width 590 -height 590
		-screenshot "rest-client-activity-tab-request-get-oas3.png"
}

proc oas3_postEntity{
	openInscription
		-processName $processName
		-elementName "RPA: start job"
		-elementType $type
	with [get-window "Inscribe Rest Service Call Activity"] {
		get-tab-folder | get-tab-item Request | click
		get-group Target | get-section Parameters | click // collapse
	}
	captureInscription
		-elementType $type
		-tabName "Request"
		-width 590 -height 570
		-screenshot "rest-client-activity-tab-request-post-oas3.png"
}

proc oas3_multiPart{
	openInscription
		-processName $processName
		-elementName "RPA: screenshot"
		-elementType $type
	captureInscription
		-elementType $type
		-tabName "Request"
		-width 590 -height 550
		-screenshot "rest-client-activity-tab-request-multiPart-oas3.png"
}

simpleGET
jaxRsRequest
responseMapping
inputMethods
targetSettings

oas3_get
oas3_postEntity
oas3_multiPart

------=_.content-0a7243a0-75d3-3d5f-9791-539de0e5b7ac--
