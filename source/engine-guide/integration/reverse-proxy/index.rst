.. _reverse-proxy:

Reverse Proxy
=============

The purpose of a reverse proxy (or frontend web server) is to provide a single
point of entry for one or more services from outside the network. The reverse
proxy receives all requests from the clients and forwards them to the
|ivy-engine| which handles them. This allows to integrate the processes and
applications that you are running on an |ivy-engine| into a company or web
portal. The use of a reverse proxy provides higher security. You have to keep
the reverse proxy upo-to-date at any time with the latest security updates,
because this is also the entry point for attackers. In addition, we recommend
that you block access to critical resources such as the Engine Cockpit.

We always recommend to run a productive |ivy-engine| behind a reverse proxy. You
should terminate the SSL traffic (HTTPS) on the reverse proxy and let the
reverse proxy communicate with the |ivy-engine| via plain HTTP, because the
setup is easier and performance is increased.

It is still possible to use AJP as the protocol between reverse proxy and the
|ivy-engine|, but this is deprecated and will be removed in future versions
of |ivy-engine|. Start using HTTP or HTTPS instead of AJP.

|

.. graphviz:: overview.dot
   :layout: neato

|

We have described how to integrate the |ivy-engine| with the following
reverse proxy servers:

.. toctree::
    :maxdepth: 1

    nginx/index
    apache-httpd/index
    microsoft-iis/index

Read carefully how to improve security by :ref:`restricting the access
<reverse-proxy-secure>` to an |ivy-engine| when using a reverse proxy. Some
reverse proxy servers provide :ref:`Single Sign-on (SSO) <single-sign-on>`
functionality. The reverse proxy then is responsible to authenticate users.

The Engine Cockpit provides the :ref:`web server view <engine-cockpit-web-server>`
for debugging purposes while integrating a reverse proxy. 

|


.. rubric:: Base URL

Besides the setup of the reverse proxy itself, you always need to configure the
base url in :ref:`ivy.yaml <ivy-yaml>`. The |ivy-engine| will use this
configuration to create absolute links that are accessible to clients (e.g. for
links in :ref:`task mails <email-notifications>`).

   .. code-block:: yaml

      # sample ivy.yaml that configures the base url for clients.
      # https://acme.com will be the absolute URL prefix for links generated by |ivy-engine|.
      BaseUrl: https://acme.com


.. toctree::
    :maxdepth: 1
    :hidden:

    secure-setup/index
